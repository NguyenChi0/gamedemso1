<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Game Äáº¿m Sá»‘</title>
  <style>
    body { font-family: Arial, sans-serif; text-align: center; background: #f4f4f4; }
    h1 { color: #333; }
    #numbers { margin: 20px; }
    .num-btn {
      display: inline-block;
      margin: 5px;
      padding: 15px 25px;
      font-size: 20px;
      cursor: pointer;
      border: none;
      border-radius: 8px;
      background: #3498db;
      color: white;
      transition: background 0.3s;
    }
    .num-btn:hover:not(:disabled) {
      background: #2980b9;
    }
    .num-btn:disabled {
      background: #aaa;
      cursor: not-allowed;
    }
    #status { margin-top: 20px; font-size: 18px; }
  </style>
</head>
<body>
  <h1>ğŸ® Game Äáº¿m Sá»‘</h1>
  <p>Báº¥m tá»« sá»‘ <b>1 â†’ 10</b> cÃ ng nhanh cÃ ng tá»‘t!</p>

  <!-- VÃ¹ng chá»©a cÃ¡c nÃºt sá»‘ -->
  <div id="numbers"></div>

  <!-- ThÃ´ng bÃ¡o tráº¡ng thÃ¡i -->
  <div id="status"></div>

  <script>
    // --- Biáº¿n toÃ n cá»¥c ---
    let current = 1;     // sá»‘ hiá»‡n táº¡i cáº§n báº¥m
    let startTime;       // thá»i gian báº¯t Ä‘áº§u
    let endTime;         // thá»i gian káº¿t thÃºc

    // --- Khá»Ÿi Ä‘á»™ng game ---
    function startGame() {
      const container = document.getElementById("numbers");
      container.innerHTML = "";   // xÃ³a nÃºt cÅ©
      current = 1;                // reset sá»‘
      startTime = Date.now();     // báº¯t Ä‘áº§u tÃ­nh giá»

      // Táº¡o danh sÃ¡ch sá»‘ 1 â†’ 10, sau Ä‘Ã³ xÃ¡o trá»™n
      const nums = Array.from({ length: 10 }, (_, i) => i + 1);
      nums.sort(() => Math.random() - 0.5);

      // Sinh cÃ¡c button sá»‘ vÃ  gáº¯n vÃ o mÃ n hÃ¬nh
      nums.forEach(n => {
        const btn = document.createElement("button");
        btn.textContent = n;
        btn.className = "num-btn";
        btn.onclick = () => handleClick(btn, n);
        container.appendChild(btn);
      });
    }

    // --- Xá»­ lÃ½ khi ngÆ°á»i chÆ¡i báº¥m sá»‘ ---
    function handleClick(btn, n) {
      if (n === current) {
        // Náº¿u Ä‘Ãºng thÃ¬ disable nÃºt
        btn.disabled = true;
        current++;
        // Náº¿u Ä‘Ã£ báº¥m háº¿t 10 sá»‘ thÃ¬ káº¿t thÃºc
        if (current > 10) finishGame();
      } else {
        // Náº¿u báº¥m sai thÃ¬ bÃ¡o lá»—i
        document.getElementById("status").textContent =
          "âŒ Sai rá»“i, hÃ£y báº¥m Ä‘Ãºng sá»‘ tiáº¿p theo!";
      }
    }

    // --- Khi hoÃ n thÃ nh game ---
    function finishGame() {
      endTime = Date.now();
      const timeTaken = ((endTime - startTime) / 1000).toFixed(2); // tÃ­nh giÃ¢y
      const score = 10; // vÃ¬ báº¥m Ä‘á»§ 10 sá»‘ thÃ¬ Ä‘Æ°á»£c 10 Ä‘iá»ƒm

      // Hiá»‡n káº¿t quáº£ ra mÃ n hÃ¬nh
      document.getElementById("status").textContent =
        `ğŸ‰ HoÃ n thÃ nh! Thá»i gian: ${timeTaken} giÃ¢y. Äiá»ƒm: ${score}`;

      // Gá»­i dá»¯ liá»‡u sang React (GameViewer.js)
      // React sáº½ nháº­n event.data.score vÃ  event.data.time
      window.parent.postMessage(
        { score: score, time: parseFloat(timeTaken) },
        "*"
      );
    }

    // --- Báº¯t Ä‘áº§u ngay khi táº£i trang ---
    window.onload = startGame;
  </script>
</body>
</html>
